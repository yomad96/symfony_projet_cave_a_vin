{{ form_start(form) }}
    {{ form_widget(form) }}
    <label for="quantity">Quantit√©</label>
    <input type="number" class="form-control" id="quantity" required name="quantity">
    <div class="btn-form">
        <button class="add-btn btn-primary btn-sm text-decoration-none">{{ button_label|default('Ajouter') }}</button>
    </div>
{{ form_end(form) }}

{% block javascripts %}
    <script>
        $(document).ready(function () {
            var rack = $('#vins_Rack');
            rack.change(function() {
                // Submit data via AJAX to the form's action path.
                $.ajax({
                    type: "GET",
                    data: {
                        'rack' : $(this).val()
                    },
                    url: '../../request/getDataRack',
                    dataType: 'json',
                    success: function(json){
                        console.log(json);
                        $('#vins_EmplacementLigne').find('option')
                            .remove()
                            .end()
                            .append('<option value=""></option>')
                            .val();
                        $('#vins_EmplacementColonne').find('option')
                            .remove()
                            .end()
                            .append('<option value=""></option>')
                            .val();
                        for (i = 1; i<= json[0] ;i++)
                        {
                            console.log(i);
                            $('#vins_EmplacementLigne').append('<option value="'+i+'"'+'>'+i+'</option>');
                        }
                        for (j = 1; j<= json[1] ;j++)
                        {
                            console.log(i);
                            $('#vins_EmplacementColonne').append('<option value="'+j+'"'+'>'+j+'</option>');
                        }
                    },
                    error: function (resultat) {
                        console.log(resultat)
                    }
                })
            });
        });
    </script>
{% endblock %}

